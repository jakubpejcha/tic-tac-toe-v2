{"code":"(this[\"webpackJsonptic-tac-toe-v2\"]=this[\"webpackJsonptic-tac-toe-v2\"]||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},47:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){\"use strict\";c.r(t);var n=c(1),a=c.n(n),r=c(17),s=c.n(r),l=(c(32),c(18)),o=c(4),i=c(7),j=c(11),u=(c(33),c(34),c(35),c(0)),b=function(e){var t=e.index,c=e.showClassName,n=e.takenByPlayer,a=e.currentPlayer,r=e.winning,s=e.size,l=e.onClickCallback;return Object(u.jsxs)(\"div\",{className:\"board__cell-wrapper\",children:[Object(u.jsx)(\"div\",{\"data-index\":t,className:\"board__cell-content board__cell board__cell\".concat(s).concat(c).concat(a).concat(n).concat(r?\" winning\":\"\"),onClick:function(e){if(\"undefined\"===typeof e.currentTarget.dataset.index)return null;l(+e.currentTarget.dataset.index)}}),Object(u.jsx)(\"div\",{className:\"board__cell-content board__cell--backface board__cell--backface\".concat(s).concat(n).concat(r?\" winning\":\"\")})]})},O=function(e,t,c){for(var n=Math.floor(t/e)+1,a=e-n<c?e-n:c-1,r=[],s=n<c?n-1:c-1;s>0;s--)r.push(t-s*e);r.push(t);for(var l=1;l<=a;l++)r.push(t+l*e);return r},d=function(e,t,c){for(var n=t%e+1,a=e-n<c?e-n:c-1,r=[],s=n<c?n-1:c-1;s>0;s--)r.push(t-s);r.push(t);for(var l=1;l<=a;l++)r.push(t+l);return r},f=function(e,t,c){for(var n=Math.floor(t/e)+1,a=t%e+1,r=n<c?n-1:c-1,s=a<c?a-1:c-1,l=e-a<c?e-a:c-1,o=[],i=e-n<c?e-n:c-1;i>0;i--)i>s||o.push(t+i*e-i);o.push(t);for(var j=1;j<=r&&!(j>l);j++)o.push(t-j*e+j);return o},h=function(e,t,c){for(var n=Math.floor(t/e)+1,a=t%e+1,r=e-n<c?e-n:c-1,s=a<c?a-1:c-1,l=e-a<c?e-a:c-1,o=[],i=n<c?n-1:c-1;i>0;i--)i>s||o.push(t-i*e-i);o.push(t);for(var j=1;j<=r&&!(j>l);j++)o.push(t+j*e+j);return o},x=function(e,t,c,n,a,r){for(var s=r(c,n,a),l=0,o=[],i=s.length,j=0;j<i;j++)if(l++,o.push(s[j]),\"\"!==e[s[j]].takenByPlayer&&e[s[j]].takenByPlayer.trim()===t||(l=0,o.length=0),l===a)return o;return!1},m=function(e,t,c,n,a){return-1!==n&&(x(e,t,c,n,a,O)||x(e,t,c,n,a,d)||x(e,t,c,n,a,f)||x(e,t,c,n,a,h)||!1)},y=c(24),_=function(e){return\"x\"===e?\"o\":\"x\"},v=function e(t,c,n){var a=c.cells,r=c.currentPlayer,s=c.size,l=c.lastCellIndex,i=c.winStreak,j=function(e,t){return e?t?10:-10:0}(m(a,r,s,l,i),n);if(10===j)return j;if(-10===j)return j;if(!function(e){var t,c=Object(y.a)(e);try{for(c.s();!(t=c.n()).done;)if(\"\"===t.value.takenByPlayer)return!0}catch(n){c.e(n)}finally{c.f()}return!1}(a))return 0;var u=-100;return n?a.forEach((function(s,l){if(\"\"===s.takenByPlayer){s.takenByPlayer=_(r);var i=Object(o.a)(Object(o.a)({},c),{},{cells:a,currentPlayer:_(r),lastCellIndex:l});u=Math.max(u,e(t+1,i,!n)),s.takenByPlayer=\"\"}})):(u=100,a.forEach((function(s,l){if(\"\"===s.takenByPlayer){s.takenByPlayer=_(r);var i=Object(o.a)(Object(o.a)({},c),{},{cells:a,currentPlayer:_(r),lastCellIndex:l});u=Math.min(u,e(t+1,i,!n)),s.takenByPlayer=\"\"}}))),u},p=(c(37),function(e){var t=e.isWinner,c=e.isDraw,a=e.winner,r=Object(n.useState)(!0),l=Object(i.a)(r,2),o=l[0],j=l[1];Object(n.useEffect)((function(){setTimeout((function(){j(!(t||c)),setTimeout((function(){j(!0)}),2e3)}),1e3)}),[t,c]);var b=document.getElementById(\"modalPortal\"),O=\"\";return t&&(O=\"Player \".concat(a,\" wins!!!\")),c&&(O=\"Draw!!!\"),b?s.a.createPortal(Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(\"div\",{className:\"modal\".concat(o?\"\":\" show\"),children:Object(u.jsx)(\"div\",{className:\"modal__message\",children:O})})}),b):null}),k=(c(38),function(e){var t=e.scoreHandler,c=e.restart,a=e.handleRestart,r=e.size,s=e.isAI,l=function(e){var t={BOARD_NUM_ROWS:e,SIZE:\"\",DELAY:0,WIN_STREAK:0};return 3===e&&(t.SIZE=\"--small\"),10===e&&(t.SIZE=\"--large\"),3===e&&(t.DELAY=150),10===e&&(t.DELAY=10),t.WIN_STREAK=e>=5?5:e,t}(r),O=Object(n.useState)(!1),d=Object(i.a)(O,2),f=d[0],h=d[1],x=Object(n.useState)(!1),y=Object(i.a)(x,2),_=y[0],k=y[1],N=Object(n.useState)(0),g=Object(i.a)(N,2),P=g[0],w=g[1],B=Object(n.useState)(\"x\"),S=Object(i.a)(B,2),E=S[0],C=S[1],A=Object(n.useState)(Array(l.BOARD_NUM_ROWS*l.BOARD_NUM_ROWS).fill({showClassName:\"\",takenByPlayer:\"\",winning:!1})),R=Object(i.a)(A,2),I=R[0],T=R[1],D=Object(n.useState)(-1),M=Object(i.a)(D,2),W=M[0],U=M[1];Object(n.useEffect)((function(){c&&(h(!1),k(!1),w(0),C(\"x\"),I.forEach((function(e,t){T((function(c){var n=Object(j.a)(c);return n[t]=Object(o.a)(Object(o.a)({},e),{},{takenByPlayer:\"\",winning:!1}),n}))})),U(-1),a(!1))}),[c]);Object(n.useEffect)((function(){I.forEach((function(e,t){setTimeout((function(){T((function(c){var n=Object(j.a)(c);return n[t]=Object(o.a)(Object(o.a)({},e),{},{showClassName:\" show\"}),n}))}),t*l.DELAY)}))}),[]);var z=function(e){T((function(t){if(\"\"!==t[e].takenByPlayer||f)return t;var c=Object(j.a)(t);return c[e]=Object(o.a)(Object(o.a)({},t[e]),{},{takenByPlayer:\" \".concat(E)}),w((function(e){return e+1})),U(e),c}))};return Object(n.useEffect)((function(){if(-1!==W){var e=m(I,E,l.BOARD_NUM_ROWS,W,l.WIN_STREAK);if(e&&Array.isArray(e))return h(!0),t(E),void T((function(t){var c=Object(j.a)(t);return e.forEach((function(e){c[e]=Object(o.a)(Object(o.a)({},t[e]),{},{winning:!0})})),c}));P!==l.BOARD_NUM_ROWS*l.BOARD_NUM_ROWS?C((function(e){return\"x\"===e?\"o\":\"x\"})):k(!0)}}),[W]),Object(n.useEffect)((function(){\"o\"===E&&s&&T((function(e){var t=function(e){var t=e.cells,c=e.currentPlayer,n=(e.size,e.lastCellIndex,e.winStreak,Object(j.a)(t)),a=Object(o.a)(Object(o.a)({},e),{},{cells:n});console.log(\"called finder\");var r=-100,s=-1;return a.cells.forEach((function(e,t){if(\"\"===e.takenByPlayer){e.takenByPlayer=c,a.lastCellIndex=t,console.time(\"minimax\");var n=v(0,a,!0);console.timeEnd(\"minimax\"),e.takenByPlayer=\"\",n>r&&(r=n,s=t)}})),s}({cells:e,currentPlayer:\"o\",size:l.BOARD_NUM_ROWS,lastCellIndex:W,winStreak:l.WIN_STREAK}),c=Object(j.a)(e);return c[t]=Object(o.a)(Object(o.a)({},e[t]),{},{takenByPlayer:\" o\"}),w((function(e){return e+1})),U(t),c}))}),[E]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(\"div\",{className:\"board board_\".concat(l.BOARD_NUM_ROWS),children:I.map((function(e,t){return Object(u.jsx)(b,{index:t,showClassName:e.showClassName,takenByPlayer:e.takenByPlayer,winning:e.winning,currentPlayer:\" current_\".concat(E),size:l.SIZE,onClickCallback:z},t)}))}),Object(u.jsx)(p,{isWinner:f,isDraw:_,winner:E})]})}),N=(c(39),function(e){var t=e.theme,c=e.onClickHandler;return Object(u.jsx)(\"div\",{className:\"theme-toggler theme-toggler--\".concat(t),onClick:c,title:\"Toggle theme\"})}),g=(c(40),function(e){var t=e.score,c=e.theme;return Object(u.jsxs)(\"div\",{className:\"score score--\".concat(c),children:[Object(u.jsx)(\"span\",{className:\"score__title\",children:\"SCORE:\"}),Object(u.jsxs)(\"div\",{className:\"score__table\",children:[Object(u.jsxs)(\"div\",{className:\"score__row score__row--players\",children:[Object(u.jsx)(\"span\",{className:\"score__column--left\",children:\"x\"}),Object(u.jsx)(\"span\",{className:\"score__column--right\",children:\"o\"})]}),Object(u.jsxs)(\"div\",{className:\"score__row score__row--score\",children:[Object(u.jsx)(\"span\",{className:\"score__column--left\",children:t.x}),Object(u.jsx)(\"span\",{className:\"score__column--right\",children:t.o})]})]})]})}),P=(c(41),function(e){var t=e.onClickHandler,c=e.theme;return Object(u.jsx)(\"button\",{className:\"restart restart--\".concat(c),onClick:function(){return t(!0)},children:Object(u.jsx)(\"span\",{children:\"Clear board\"})})}),w=c(3),B=c(25),S=c(27),E=(c(47),function(e){var t=e.goToPath,c=Object(w.g)();return Object(u.jsx)(\"div\",{className:\"back\",children:Object(u.jsxs)(\"button\",{type:\"button\",onClick:function(){null!==t?c.push(t):c.goBack()},children:[Object(u.jsx)(B.a,{icon:S.a}),Object(u.jsx)(\"span\",{className:\"back__text\",children:\" go back\"})]})})}),C=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],a=t[1],r=c?\"grey\":\"color\",s=Object(n.useState)({x:0,o:0}),j=Object(i.a)(s,2),b=j[0],O=j[1],d=Object(n.useState)(!1),f=Object(i.a)(d,2),h=f[0],x=f[1],m=function(e){x(e)},y=Object(w.h)(),_=y.mode,v=y.type;return Object(u.jsxs)(\"div\",{className:\"app-container app-container--\".concat(r),children:[Object(u.jsx)(E,{goToPath:null}),Object(u.jsx)(P,{onClickHandler:m,theme:r}),Object(u.jsx)(N,{theme:r,onClickHandler:function(){a((function(e){return!e}))}}),Object(u.jsx)(g,{score:b,theme:r}),Object(u.jsx)(k,{scoreHandler:function(e){O((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},e,t[e]+1))}))},restart:h,handleRestart:m,size:+_,isAI:\"pvc\"===v})]})},A=(c(50),c(51),function(e){return Object(u.jsx)(\"ul\",{className:\"game-menu\",children:e.children})}),R=c(10),I=function(){var e=Object(w.i)(),t=e.path,c=e.url;return Object(u.jsxs)(\"div\",{className:\"welcome\",children:[Object(u.jsx)(\"h1\",{className:\"welcome__title\",children:\"TIC TAC TOE\"}),Object(u.jsx)(\"div\",{className:\"welcome__menu\",children:Object(u.jsxs)(w.d,{children:[Object(u.jsx)(w.b,{path:\"\".concat(t,\"/mode-3\"),children:Object(u.jsxs)(A,{children:[Object(u.jsx)(E,{goToPath:null}),Object(u.jsx)(\"li\",{children:Object(u.jsx)(R.b,{to:\"/game/3/pvp\",children:\"Player vs Player\"})}),Object(u.jsx)(\"li\",{children:Object(u.jsx)(R.b,{to:\"/game/3/pvc\",children:\"Player vs AI\"})})]})}),Object(u.jsx)(w.b,{path:\"\".concat(t,\"/mode-10\"),children:Object(u.jsxs)(A,{children:[Object(u.jsx)(E,{goToPath:null}),Object(u.jsx)(\"li\",{children:Object(u.jsx)(R.b,{to:\"/game/10/pvp\",children:\"Player vs Player\"})})]})}),Object(u.jsx)(w.b,{path:t,children:Object(u.jsxs)(A,{children:[Object(u.jsx)(\"li\",{children:Object(u.jsx)(R.b,{to:\"\".concat(c,\"/mode-3\"),children:\"3 x 3 mode (includes AI opponent)\"})}),Object(u.jsx)(\"li\",{children:Object(u.jsx)(R.b,{to:\"\".concat(c,\"/mode-10\"),children:\"10 x 10 mode\"})})]})})]})})]})},T=function(){return Object(u.jsx)(R.a,{children:Object(u.jsxs)(w.d,{children:[Object(u.jsx)(w.b,{path:\"/game/:mode/:type\",children:Object(u.jsx)(C,{})}),Object(u.jsx)(w.b,{path:\"/welcome\",children:Object(u.jsx)(I,{})}),Object(u.jsx)(w.b,{path:\"/\",children:Object(u.jsx)(w.a,{to:\"/welcome\"})})]})})};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(T,{})}),document.getElementById(\"root\"))}},[[52,1,2]]]);","name":"static/js/main.7ec71f02.chunk.js","map":{"version":3,"sources":["static/js/main.7ec71f02.chunk.js"],"names":["this","push","32","module","exports","__webpack_require__","33","34","35","37","38","39","40","41","47","50","51","52","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","defineProperty","objectSpread2","slicedToArray","toConsumableArray","jsx_runtime","src_Cell","_ref","index","showClassName","takenByPlayer","currentPlayer","winning","size","onClickCallback","Object","className","children","data-index","concat","onClick","e","currentTarget","dataset","getColumn","winStreak","rowNumber","Math","floor","offsetDown","column","i","_i","getRow","columnNumber","offsetRight","row","_i2","getDiagonalUpRight","offsetUp","offsetLeft","diagonal","_i3","getDiagonalDownRight","_i4","checkMoves","array","callbackDirection","direction","streak","winningCells","length","trim","checkWinner","createForOfIteratorHelper","swapPlayers","minimax_minimax","minimax","depth","boardData","isMaximizer","cellsCopy","cells","lastCellIndex","boardScore","result","evaluateBoard","_step","_iterator","s","done","value","err","f","minimax_isMovesLeft","best","forEach","cell","newBoardData","max","min","src_Modal","isWinner","isDraw","winner","_useState","_useState2","isHidden","setIsHidden","setTimeout","portal","document","getElementById","text","a","createPortal","src_Board","scoreHandler","restart","handleRestart","isAI","dimensions","numRows","BOARD_NUM_ROWS","SIZE","DELAY","WIN_STREAK","getDimensions","setIsWinner","_useState3","_useState4","setIsDraw","_useState5","_useState6","numMoves","setNumMoves","_useState7","_useState8","player","setPlayer","_useState9","Array","fill","_useState10","setCells","_useState11","_useState12","lastCell","setLastCell","prevCells","newCells","onCellClick","prevNum","isArray","prevPlayer","boardDataCopy","console","log","bestValue","bestMove","time","moveValue","timeEnd","minimax_findBestMove","map","pos","src_ThemeToggler","theme","onClickHandler","title","src_Score","score","src_Restart","react_router","index_es","free_solid_svg_icons_index_es","src_Back","goToPath","history","type","goBack","icon","src_Game","themeGrey","setThemeGrey","x","o","setScore","setRestart","_useParams","mode","prev","updatePlayer","prevScore","src_GameMenu","props","react_router_dom","src_Welcome","_useRouteMatch","path","url","to","src_App","render","StrictMode"],"mappings":"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"},"input":"(this[\"webpackJsonptic-tac-toe-v2\"] = this[\"webpackJsonptic-tac-toe-v2\"] || []).push([[0],{\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 51:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(17);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/styles/App.css\nvar styles_App = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./src/styles/Cell.css\nvar styles_Cell = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./src/styles/CellGrey.css\nvar CellGrey = __webpack_require__(34);\n\n// EXTERNAL MODULE: ./src/styles/CellColor.css\nvar CellColor = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/Cell.tsx\n;var Cell_Cell=function Cell(_ref){var index=_ref.index,showClassName=_ref.showClassName,takenByPlayer=_ref.takenByPlayer,currentPlayer=_ref.currentPlayer,winning=_ref.winning,size=_ref.size,onClickCallback=_ref.onClickCallback;var handleOnClick=function handleOnClick(e){if(typeof e.currentTarget.dataset.index==='undefined')return null;onClickCallback(+e.currentTarget.dataset.index);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"board__cell-wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{\"data-index\":index,className:\"board__cell-content board__cell board__cell\".concat(size).concat(showClassName).concat(currentPlayer).concat(takenByPlayer).concat(winning?' winning':''),onClick:handleOnClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"board__cell-content board__cell--backface board__cell--backface\".concat(size).concat(takenByPlayer).concat(winning?' winning':'')})]});};/* harmony default export */ var src_Cell = (Cell_Cell);\n// CONCATENATED MODULE: ./src/checkWinner.ts\nvar getColumn=function getColumn(size,index,winStreak){var rowNumber=Math.floor(index/size)+1;var offsetUp=rowNumber<winStreak?rowNumber-1:winStreak-1;var offsetDown=size-rowNumber<winStreak?size-rowNumber:winStreak-1;var column=[];// up\nfor(var i=offsetUp;i>0;i--){column.push(index-i*size);}column.push(index);//down\nfor(var _i=1;_i<=offsetDown;_i++){column.push(index+_i*size);}return column;};var getRow=function getRow(size,index,winStreak){var columnNumber=index%size+1;var offsetLeft=columnNumber<winStreak?columnNumber-1:winStreak-1;var offsetRight=size-columnNumber<winStreak?size-columnNumber:winStreak-1;var row=[];// left\nfor(var i=offsetLeft;i>0;i--){row.push(index-i);}row.push(index);//down\nfor(var _i2=1;_i2<=offsetRight;_i2++){row.push(index+_i2);}return row;};var getDiagonalUpRight=function getDiagonalUpRight(size,index,winStreak){var rowNumber=Math.floor(index/size)+1;var columnNumber=index%size+1;var offsetUp=rowNumber<winStreak?rowNumber-1:winStreak-1;var offsetDown=size-rowNumber<winStreak?size-rowNumber:winStreak-1;var offsetLeft=columnNumber<winStreak?columnNumber-1:winStreak-1;var offsetRight=size-columnNumber<winStreak?size-columnNumber:winStreak-1;// guard column\nvar diagonal=[];// up-right below\nfor(var i=offsetDown;i>0;i--){if(i>offsetLeft)continue;diagonal.push(index+i*size-i);}diagonal.push(index);// up-right above\nfor(var _i3=1;_i3<=offsetUp;_i3++){if(_i3>offsetRight)break;diagonal.push(index-_i3*size+_i3);}return diagonal;};var getDiagonalDownRight=function getDiagonalDownRight(size,index,winStreak){var rowNumber=Math.floor(index/size)+1;var columnNumber=index%size+1;var offsetUp=rowNumber<winStreak?rowNumber-1:winStreak-1;var offsetDown=size-rowNumber<winStreak?size-rowNumber:winStreak-1;var offsetLeft=columnNumber<winStreak?columnNumber-1:winStreak-1;var offsetRight=size-columnNumber<winStreak?size-columnNumber:winStreak-1;var diagonal=[];// down-right above\nfor(var i=offsetUp;i>0;i--){if(i>offsetLeft)continue;diagonal.push(index-i*size-i);}diagonal.push(index);// down-right below\nfor(var _i4=1;_i4<=offsetDown;_i4++){if(_i4>offsetRight)break;diagonal.push(index+_i4*size+_i4);}return diagonal;};var checkMoves=function checkMoves(array,currentPlayer,size,index,winStreak,callbackDirection){var direction=callbackDirection(size,index,winStreak);var streak=0;var winningCells=[];var length=direction.length;for(var i=0;i<length;i++){streak++;winningCells.push(direction[i]);if(array[direction[i]].takenByPlayer===''||array[direction[i]].takenByPlayer.trim()!==currentPlayer){streak=0;winningCells.length=0;};if(streak===winStreak)return winningCells;}return false;};var checkWinner=function checkWinner(array,currentPlayer,size,index,winStreak){if(index===-1)return false;return checkMoves(array,currentPlayer,size,index,winStreak,getColumn)||checkMoves(array,currentPlayer,size,index,winStreak,getRow)||checkMoves(array,currentPlayer,size,index,winStreak,getDiagonalUpRight)||checkMoves(array,currentPlayer,size,index,winStreak,getDiagonalDownRight)||false;};\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(24);\n\n// CONCATENATED MODULE: ./src/minimax.ts\nvar evaluateBoard=function evaluateBoard(result,isMaximizer){if(!result){return 0;}else if(isMaximizer){return 10;}else{return-10;}};var minimax_isMovesLeft=function isMovesLeft(cells){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(cells),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var cell=_step.value;if(cell.takenByPlayer==='')return true;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return false;};var swapPlayers=function swapPlayers(currentPlayer){if(currentPlayer==='x')return'o';return'x';};// cells will be a copy\nvar minimax_minimax=function minimax(depth,boardData,isMaximizer){var cellsCopy=boardData.cells,currentPlayer=boardData.currentPlayer,size=boardData.size,lastCellIndex=boardData.lastCellIndex,winStreak=boardData.winStreak;var result=checkWinner(cellsCopy,currentPlayer,size,lastCellIndex,winStreak);var boardScore=evaluateBoard(result,isMaximizer);if(boardScore===10)return boardScore;if(boardScore===-10)return boardScore;if(!minimax_isMovesLeft(cellsCopy))return 0;// do not modify cells\nvar best=-100;if(isMaximizer){cellsCopy.forEach(function(cell,index){if(cell.takenByPlayer===''){cell.takenByPlayer=swapPlayers(currentPlayer);//console.log(cellsCopy[index].takenByPlayer);\nvar newBoardData=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},boardData),{},{cells:cellsCopy,currentPlayer:swapPlayers(currentPlayer),lastCellIndex:index});best=Math.max(best,minimax(depth+1,newBoardData,!isMaximizer));cell.takenByPlayer='';}});}else{best=100;cellsCopy.forEach(function(cell,index){if(cell.takenByPlayer===''){cell.takenByPlayer=swapPlayers(currentPlayer);var newBoardData=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},boardData),{},{cells:cellsCopy,currentPlayer:swapPlayers(currentPlayer),lastCellIndex:index});best=Math.min(best,minimax(depth+1,newBoardData,!isMaximizer));cell.takenByPlayer='';}});}return best;};var minimax_findBestMove=function findBestMove(boardData){var cells=boardData.cells,currentPlayer=boardData.currentPlayer,size=boardData.size,lastCellIndex=boardData.lastCellIndex,winStreak=boardData.winStreak;var cellsCopy=Object(toConsumableArray[\"a\" /* default */])(cells);var boardDataCopy=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},boardData),{},{cells:cellsCopy});console.log('called finder');var bestValue=-100;var bestMove=-1;boardDataCopy.cells.forEach(function(cell,index){if(cell.takenByPlayer===''){cell.takenByPlayer=currentPlayer;boardDataCopy.lastCellIndex=index;console.time('minimax');var moveValue=minimax_minimax(0,boardDataCopy,true);console.timeEnd('minimax');cell.takenByPlayer='';if(moveValue>bestValue){bestValue=moveValue;bestMove=index;}}});return bestMove;};\n// EXTERNAL MODULE: ./src/styles/Modal.css\nvar styles_Modal = __webpack_require__(37);\n\n// CONCATENATED MODULE: ./src/Modal.tsx\nvar Modal_Modal=function Modal(_ref){var isWinner=_ref.isWinner,isDraw=_ref.isDraw,winner=_ref.winner;var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isHidden=_useState2[0],setIsHidden=_useState2[1];Object(react[\"useEffect\"])(function(){setTimeout(function(){setIsHidden(!(isWinner||isDraw));setTimeout(function(){setIsHidden(true);},2000);},1000);},[isWinner,isDraw]);var portal=document.getElementById('modalPortal');var text='';if(isWinner)text=\"Player \".concat(winner,\" wins!!!\");if(isDraw)text=\"Draw!!!\";return portal?/*#__PURE__*/react_dom_default.a.createPortal(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"modal\".concat(isHidden?'':' show'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"modal__message\",children:text})})}),portal):null;};/* harmony default export */ var src_Modal = (Modal_Modal);\n// EXTERNAL MODULE: ./src/styles/Board.css\nvar styles_Board = __webpack_require__(38);\n\n// CONCATENATED MODULE: ./src/Board.tsx\nvar getDimensions=function getDimensions(numRows){var dimensions={BOARD_NUM_ROWS:numRows,SIZE:'',DELAY:0,WIN_STREAK:0};if(numRows===3)dimensions.SIZE='--small';if(numRows===10)dimensions.SIZE='--large';if(numRows===3)dimensions.DELAY=150;if(numRows===10)dimensions.DELAY=10;dimensions.WIN_STREAK=numRows>=5?5:numRows;return dimensions;};var Board_Board=function Board(_ref){var scoreHandler=_ref.scoreHandler,restart=_ref.restart,handleRestart=_ref.handleRestart,size=_ref.size,isAI=_ref.isAI;var dimensions=getDimensions(size);var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isWinner=_useState2[0],setIsWinner=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isDraw=_useState4[0],setIsDraw=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),numMoves=_useState6[0],setNumMoves=_useState6[1];var _useState7=Object(react[\"useState\"])('x'),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),player=_useState8[0],setPlayer=_useState8[1];var _useState9=Object(react[\"useState\"])(Array(dimensions.BOARD_NUM_ROWS*dimensions.BOARD_NUM_ROWS).fill({showClassName:'',takenByPlayer:'',winning:false})),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),cells=_useState10[0],setCells=_useState10[1];var _useState11=Object(react[\"useState\"])(-1),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),lastCell=_useState12[0],setLastCell=_useState12[1];// restart board\nObject(react[\"useEffect\"])(function(){if(!restart)return;setIsWinner(false);setIsDraw(false);setNumMoves(0);setPlayer('x');cells.forEach(function(cell,index){setCells(function(prevCells){var newCells=Object(toConsumableArray[\"a\" /* default */])(prevCells);newCells[index]=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},cell),{},{takenByPlayer:'',winning:false});return newCells;});});setLastCell(-1);handleRestart(false);},[restart]);// Nice animation of creating the board\nvar showBoard=function showBoard(){cells.forEach(function(cell,index){setTimeout(function(){setCells(function(prevCells){var newCells=Object(toConsumableArray[\"a\" /* default */])(prevCells);newCells[index]=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},cell),{},{showClassName:' show'});return newCells;});},index*dimensions.DELAY);});};Object(react[\"useEffect\"])(function(){showBoard();},[]);var onCellClick=function onCellClick(index){setCells(function(prevCells){// in case cell has been clicked before\nif(prevCells[index].takenByPlayer!==''||isWinner)return prevCells;var newCells=Object(toConsumableArray[\"a\" /* default */])(prevCells);newCells[index]=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevCells[index]),{},{takenByPlayer:\" \".concat(player)});setNumMoves(function(prevNum){return prevNum+1;});setLastCell(index);return newCells;});};Object(react[\"useEffect\"])(function(){//TEST\nif(lastCell===-1)return;// do not run after app starts\nvar result=checkWinner(cells,player,dimensions.BOARD_NUM_ROWS,lastCell,dimensions.WIN_STREAK);if(result&&Array.isArray(result)){setIsWinner(true);scoreHandler(player);setCells(function(prevCells){var newCells=Object(toConsumableArray[\"a\" /* default */])(prevCells);result.forEach(function(cell){newCells[cell]=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevCells[cell]),{},{winning:true});});return newCells;});return;}//console.log(checkWinner(cells, player, dimensions.BOARD_NUM_ROWS, lastCell, dimensions.WIN_STREAK));\n// check for draw\nif(numMoves===dimensions.BOARD_NUM_ROWS*dimensions.BOARD_NUM_ROWS){setIsDraw(true);return;};setPlayer(function(prevPlayer){if(prevPlayer==='x')return'o';return'x';});},[lastCell]);//AI move\nObject(react[\"useEffect\"])(function(){if(player==='o'&&isAI){setCells(function(prevCells){// in case cell has been clicked before\n// forAI\nvar boardData={cells:prevCells,currentPlayer:'o',size:dimensions.BOARD_NUM_ROWS,lastCellIndex:lastCell,winStreak:dimensions.WIN_STREAK};var index=minimax_findBestMove(boardData);var newCells=Object(toConsumableArray[\"a\" /* default */])(prevCells);newCells[index]=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevCells[index]),{},{takenByPlayer:' o'});setNumMoves(function(prevNum){return prevNum+1;});setLastCell(index);return newCells;});}},[player]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"board board_\".concat(dimensions.BOARD_NUM_ROWS),children:cells.map(function(cell,pos){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Cell,{index:pos,showClassName:cell.showClassName,takenByPlayer:cell.takenByPlayer,winning:cell.winning,currentPlayer:\" current_\".concat(player),size:dimensions.SIZE,onClickCallback:onCellClick},pos);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Modal,{isWinner:isWinner,isDraw:isDraw,winner:player})]});};/* harmony default export */ var src_Board = (Board_Board);\n// EXTERNAL MODULE: ./src/styles/ThemeToggler.css\nvar styles_ThemeToggler = __webpack_require__(39);\n\n// CONCATENATED MODULE: ./src/ThemeToggler.tsx\nvar ThemeToggler_ThemeToggler=function ThemeToggler(_ref){var theme=_ref.theme,onClickHandler=_ref.onClickHandler;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"theme-toggler theme-toggler--\".concat(theme),onClick:onClickHandler,title:\"Toggle theme\"});};/* harmony default export */ var src_ThemeToggler = (ThemeToggler_ThemeToggler);\n// EXTERNAL MODULE: ./src/styles/Score.css\nvar styles_Score = __webpack_require__(40);\n\n// CONCATENATED MODULE: ./src/Score.tsx\nvar Score_Score=function Score(_ref){var score=_ref.score,theme=_ref.theme;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"score score--\".concat(theme),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"score__title\",children:\"SCORE:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"score__table\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"score__row score__row--players\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"score__column--left\",children:\"x\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"score__column--right\",children:\"o\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"score__row score__row--score\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"score__column--left\",children:score['x']}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"score__column--right\",children:score['o']})]})]})]});};/* harmony default export */ var src_Score = (Score_Score);\n// EXTERNAL MODULE: ./src/styles/Restart.css\nvar styles_Restart = __webpack_require__(41);\n\n// CONCATENATED MODULE: ./src/Restart.tsx\nvar Restart_Restart=function Restart(_ref){var onClickHandler=_ref.onClickHandler,theme=_ref.theme;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"restart restart--\".concat(theme),onClick:function onClick(){return onClickHandler(true);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Clear board\"})});};/* harmony default export */ var src_Restart = (Restart_Restart);\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/react-fontawesome/index.es.js\nvar index_es = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/free-solid-svg-icons/index.es.js\nvar free_solid_svg_icons_index_es = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./src/styles/Back.css\nvar styles_Back = __webpack_require__(47);\n\n// CONCATENATED MODULE: ./src/Back.tsx\nvar Back_Back=function Back(_ref){var goToPath=_ref.goToPath;var history=Object(react_router[\"g\" /* useHistory */])();var handleOnClick=function handleOnClick(){if(goToPath!==null){history.push(goToPath);}else{history.goBack();}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"back\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{type:\"button\",onClick:handleOnClick,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_es[\"a\" /* FontAwesomeIcon */],{icon:free_solid_svg_icons_index_es[\"a\" /* faHandPointLeft */]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"back__text\",children:\" go back\"})]})});};/* harmony default export */ var src_Back = (Back_Back);\n// CONCATENATED MODULE: ./src/Game.tsx\nvar Game_Game=function Game(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),themeGrey=_useState2[0],setThemeGrey=_useState2[1];var theme=themeGrey?'grey':'color';var _useState3=Object(react[\"useState\"])({'x':0,'o':0}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),score=_useState4[0],setScore=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),restart=_useState6[0],setRestart=_useState6[1];var handleThemeChange=function handleThemeChange(){setThemeGrey(function(prev){return!prev;});};var handleScoreUpdate=function handleScoreUpdate(updatePlayer){setScore(function(prevScore){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevScore),{},Object(defineProperty[\"a\" /* default */])({},updatePlayer,prevScore[updatePlayer]+1));});};var handleRestart=function handleRestart(restart){setRestart(restart);};// const unsetRestart = () => {\n//   setRestart(false);\n// }\nvar _useParams=Object(react_router[\"h\" /* useParams */])(),size=_useParams.mode,type=_useParams.type;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app-container app-container--\".concat(theme),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Back,{goToPath:null}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Restart,{onClickHandler:handleRestart,theme:theme}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_ThemeToggler,{theme:theme,onClickHandler:handleThemeChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Score,{score:score,theme:theme}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Board,{scoreHandler:handleScoreUpdate,restart:restart,handleRestart:handleRestart,size:+size,isAI:type==='pvc'})]});};/* harmony default export */ var src_Game = (Game_Game);\n// EXTERNAL MODULE: ./src/styles/Welcome.css\nvar styles_Welcome = __webpack_require__(50);\n\n// EXTERNAL MODULE: ./src/styles/GameMenu.css\nvar styles_GameMenu = __webpack_require__(51);\n\n// CONCATENATED MODULE: ./src/GameMenu.tsx\nvar GameMenu_GameMenu=function GameMenu(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{className:\"game-menu\",children:props.children});};/* harmony default export */ var src_GameMenu = (GameMenu_GameMenu);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./src/Welcome.tsx\nvar Welcome_Welcome=function Welcome(){var _useRouteMatch=Object(react_router[\"i\" /* useRouteMatch */])(),path=_useRouteMatch.path,url=_useRouteMatch.url;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"welcome\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"welcome__title\",children:\"TIC TAC TOE\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"welcome__menu\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"\".concat(path,\"/mode-3\"),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(src_GameMenu,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Back,{goToPath:null}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/game/3/pvp\",children:\"Player vs Player\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/game/3/pvc\",children:\"Player vs AI\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"\".concat(path,\"/mode-10\"),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(src_GameMenu,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Back,{goToPath:null}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/game/10/pvp\",children:\"Player vs Player\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:path,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(src_GameMenu,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"\".concat(url,\"/mode-3\"),children:\"3 x 3 mode (includes AI opponent)\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"\".concat(url,\"/mode-10\"),children:\"10 x 10 mode\"})})]})})]})})]});};/* harmony default export */ var src_Welcome = (Welcome_Welcome);\n// CONCATENATED MODULE: ./src/App.tsx\nvar App_App=function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/game/:mode/:type\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Game,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/welcome\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Welcome,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/welcome\"})})]})});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[52,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/jakub/Projects/tic-tac-toe/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jakub/Projects/tic-tac-toe/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jakub/Projects/tic-tac-toe/node_modules/postcss-loader/src/index.js??postcss!/home/jakub/Projects/tic-tac-toe/src/styles/App.css","/home/jakub/Projects/tic-tac-toe/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jakub/Projects/tic-tac-toe/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jakub/Projects/tic-tac-toe/node_modules/postcss-loader/src/index.js??postcss!/home/jakub/Projects/tic-tac-toe/src/styles/Cell.css","/home/jakub/Projects/tic-tac-toe/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jakub/Projects/tic-tac-toe/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jakub/Projects/tic-tac-toe/node_modules/postcss-loader/src/index.js??postcss!/home/jakub/Projects/tic-tac-toe/src/styles/CellGrey.css","/home/jakub/Projects/tic-tac-toe/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jakub/Projects/tic-tac-toe/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jakub/Projects/tic-tac-toe/node_modules/postcss-loader/src/index.js??postcss!/home/jakub/Projects/tic-tac-toe/src/styles/CellColor.css","/home/jakub/Projects/tic-tac-toe/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jakub/Projects/tic-tac-toe/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jakub/Projects/tic-tac-toe/node_modules/postcss-loader/src/index.js??postcss!/home/jakub/Projects/tic-tac-toe/src/styles/Modal.css","/home/jakub/Projects/tic-tac-toe/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jakub/Projects/tic-tac-toe/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jakub/Projects/tic-tac-toe/node_modules/postcss-loader/src/index.js??postcss!/home/jakub/Projects/tic-tac-toe/src/styles/Board.css","/home/jakub/Projects/tic-tac-toe/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jakub/Projects/tic-tac-toe/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jakub/Projects/tic-tac-toe/node_modules/postcss-loader/src/index.js??postcss!/home/jakub/Projects/tic-tac-toe/src/styles/ThemeToggler.css","/home/jakub/Projects/tic-tac-toe/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jakub/Projects/tic-tac-toe/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jakub/Projects/tic-tac-toe/node_modules/postcss-loader/src/index.js??postcss!/home/jakub/Projects/tic-tac-toe/src/styles/Score.css","/home/jakub/Projects/tic-tac-toe/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jakub/Projects/tic-tac-toe/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jakub/Projects/tic-tac-toe/node_modules/postcss-loader/src/index.js??postcss!/home/jakub/Projects/tic-tac-toe/src/styles/Restart.css","/home/jakub/Projects/tic-tac-toe/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jakub/Projects/tic-tac-toe/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jakub/Projects/tic-tac-toe/node_modules/postcss-loader/src/index.js??postcss!/home/jakub/Projects/tic-tac-toe/src/styles/Back.css","/home/jakub/Projects/tic-tac-toe/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jakub/Projects/tic-tac-toe/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jakub/Projects/tic-tac-toe/node_modules/postcss-loader/src/index.js??postcss!/home/jakub/Projects/tic-tac-toe/src/styles/Welcome.css","/home/jakub/Projects/tic-tac-toe/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jakub/Projects/tic-tac-toe/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jakub/Projects/tic-tac-toe/node_modules/postcss-loader/src/index.js??postcss!/home/jakub/Projects/tic-tac-toe/src/styles/GameMenu.css","/home/jakub/Projects/tic-tac-toe/src/Cell.tsx","/home/jakub/Projects/tic-tac-toe/src/checkWinner.ts","/home/jakub/Projects/tic-tac-toe/src/minimax.ts","/home/jakub/Projects/tic-tac-toe/src/Modal.tsx","/home/jakub/Projects/tic-tac-toe/src/Board.tsx","/home/jakub/Projects/tic-tac-toe/src/ThemeToggler.tsx","/home/jakub/Projects/tic-tac-toe/src/Score.tsx","/home/jakub/Projects/tic-tac-toe/src/Restart.tsx","/home/jakub/Projects/tic-tac-toe/src/Back.tsx","/home/jakub/Projects/tic-tac-toe/src/Game.tsx","/home/jakub/Projects/tic-tac-toe/src/GameMenu.tsx","/home/jakub/Projects/tic-tac-toe/src/Welcome.tsx","/home/jakub/Projects/tic-tac-toe/src/App.tsx","/home/jakub/Projects/tic-tac-toe/src/index.tsx"],"names":["Cell","index","showClassName","takenByPlayer","currentPlayer","winning","size","onClickCallback","handleOnClick","e","currentTarget","dataset","getColumn","winStreak","rowNumber","Math","floor","offsetUp","offsetDown","column","i","push","getRow","columnNumber","offsetLeft","offsetRight","row","getDiagonalUpRight","diagonal","getDiagonalDownRight","checkMoves","array","callbackDirection","direction","streak","winningCells","length","trim","checkWinner","evaluateBoard","result","isMaximizer","isMovesLeft","cells","cell","swapPlayers","minimax","depth","boardData","cellsCopy","lastCellIndex","boardScore","best","forEach","newBoardData","max","min","findBestMove","boardDataCopy","console","log","bestValue","bestMove","time","moveValue","timeEnd","Modal","isWinner","isDraw","winner","useState","isHidden","setIsHidden","useEffect","setTimeout","portal","document","getElementById","text","ReactDom","createPortal","getDimensions","numRows","dimensions","BOARD_NUM_ROWS","SIZE","DELAY","WIN_STREAK","Board","scoreHandler","restart","handleRestart","isAI","setIsWinner","setIsDraw","numMoves","setNumMoves","player","setPlayer","Array","fill","setCells","lastCell","setLastCell","prevCells","newCells","showBoard","onCellClick","prevNum","isArray","prevPlayer","map","pos","ThemeToggler","theme","onClickHandler","Score","score","Restart","Back","goToPath","history","useHistory","goBack","faHandPointLeft","Game","themeGrey","setThemeGrey","setScore","setRestart","handleThemeChange","prev","handleScoreUpdate","updatePlayer","prevScore","useParams","mode","type","GameMenu","props","children","Welcome","useRouteMatch","path","url","App","ReactDOM","render"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from 'react';\nimport './styles/Cell.css';\nimport './styles/CellGrey.css';\nimport './styles/CellColor.css';\n\ninterface Props {\n\tindex: number,\n\tshowClassName: string,\n\ttakenByPlayer: string,\n\tcurrentPlayer: string,\n\twinning: boolean,\n\tsize:string,\n\tonClickCallback: (index: number) => void\n};\n\nconst Cell = ({ index, showClassName, takenByPlayer, currentPlayer, winning, size, onClickCallback }: Props) => {\n\n\tconst handleOnClick = (e:React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n\t\tif (typeof e.currentTarget.dataset.index === 'undefined') return null;\n\t\tonClickCallback(+e.currentTarget.dataset.index);\n\t}\n\n\treturn (\n\t\t<div className=\"board__cell-wrapper\">\n\t\t\t<div\n\t\t\t\tdata-index={index}\n\t\t\t\tclassName={`board__cell-content board__cell board__cell${size}${showClassName}${currentPlayer}${takenByPlayer}${winning ? ' winning' : ''}`}\n\t\t\t\tonClick={handleOnClick}\n\t\t\t/>\n\t\t\t<div className={`board__cell-content board__cell--backface board__cell--backface${size}${takenByPlayer}${winning ? ' winning' : ''}`} />\n\t\t</div>\n\t)\n};\n\nexport default Cell;\n","import { CellInterface } from './shared/interfaces';\n\nconst getColumn = (size: number, index: number, winStreak: number): number[] => {\n\tconst rowNumber = Math.floor(index / size) + 1;\n\n\tconst offsetUp = rowNumber < winStreak ? rowNumber - 1 : winStreak - 1;\n\tconst offsetDown = (size - rowNumber) < winStreak ? (size - rowNumber) : winStreak - 1;\n\n\tlet column: number[] = [];\n\t// up\n\tfor (let i = offsetUp; i > 0; i--) {\n\t\tcolumn.push(index - (i * size));\n\t}\n\n\tcolumn.push(index);\n\n\t//down\n\tfor (let i = 1; i <= offsetDown; i++) {\n\t\tcolumn.push(index + (i * size));\n\t}\n\n\treturn column;\n}\n\nconst getRow = (size: number, index: number, winStreak: number): number[] => {\n\tconst columnNumber = (index % size) + 1;\n\n\tconst offsetLeft = columnNumber < winStreak ? columnNumber - 1 : winStreak - 1;\n\tconst offsetRight = (size - columnNumber) < winStreak ? (size - columnNumber) : winStreak - 1;\n\n\tlet row: number[] = [];\n\t// left\n\tfor (let i = offsetLeft; i > 0; i--) {\n\t\trow.push(index - i);\n\t}\n\n\trow.push(index);\n\n\t//down\n\tfor (let i = 1; i <= offsetRight; i++) {\n\t\trow.push(index + i);\n\t}\n\n\treturn row;\n}\n\nconst getDiagonalUpRight = (size: number, index: number, winStreak: number): number[] => {\n\tconst rowNumber = Math.floor(index / size) + 1;\n\tconst columnNumber = (index % size) + 1;\n\n\tconst offsetUp = rowNumber < winStreak ? rowNumber - 1 : winStreak - 1;\n\tconst offsetDown = (size - rowNumber) < winStreak ? (size - rowNumber) : winStreak - 1;\n\n\tconst offsetLeft = columnNumber < winStreak ? columnNumber - 1 : winStreak - 1;\n\tconst offsetRight = (size - columnNumber) < winStreak ? (size - columnNumber) : winStreak - 1;\n\n\t// guard column\n\n\tlet diagonal: number[] = [];\n\t// up-right below\n\tfor (let i = offsetDown; i > 0; i--) {\n\t\tif (i > offsetLeft) continue;\n\t\tdiagonal.push(index + (i * size) - i);\n\t}\n\n\tdiagonal.push(index);\n\n\t// up-right above\n\tfor (let i = 1; i <= offsetUp; i++) {\n\t\tif (i > offsetRight) break;\n\t\tdiagonal.push(index - (i * size) + i);\n\t}\n\n\treturn diagonal;\n}\n\nconst getDiagonalDownRight = (size: number, index: number, winStreak: number): number[] => {\n\tconst rowNumber = Math.floor(index / size) + 1;\n\tconst columnNumber = (index % size) + 1;\n\n\tconst offsetUp = rowNumber < winStreak ? rowNumber - 1 : winStreak - 1;\n\tconst offsetDown = (size - rowNumber) < winStreak ? (size - rowNumber) : winStreak - 1;\n\n\tconst offsetLeft = columnNumber < winStreak ? columnNumber - 1 : winStreak - 1;\n\tconst offsetRight = (size - columnNumber) < winStreak ? (size - columnNumber) : winStreak - 1;\n\n\tlet diagonal: number[] = [];\n\t// down-right above\n\tfor (let i = offsetUp; i > 0; i--) {\n\t\tif (i > offsetLeft) continue;\n\t\tdiagonal.push(index - (i * size) - i);\n\t}\n\n\tdiagonal.push(index);\n\n\t// down-right below\n\tfor (let i = 1; i <= offsetDown; i++) {\n\t\tif (i > offsetRight) break;\n\t\tdiagonal.push(index + (i * size) + i);\n\t}\n\n\treturn diagonal;\n}\n\nconst checkMoves = (\n\tarray: CellInterface[],\n\tcurrentPlayer: string,\n\tsize: number,\n\tindex: number,\n\twinStreak: number,\n\tcallbackDirection: ((size: number, index: number, winStreak: number) => number[])\n): boolean | number[] => {\n\tconst direction = callbackDirection(size, index, winStreak);\n\t\n\tlet streak = 0;\n\tconst winningCells: number[] = [];\n\tconst length = direction.length;\n\t\n\tfor (let i = 0; i < length; i++) {\n\t\tstreak++;\n\t\twinningCells.push(direction[i]);\n\t\t\n\t\tif (array[direction[i]].takenByPlayer === '' || array[direction[i]].takenByPlayer.trim() !== currentPlayer) {\n\t\t\tstreak = 0;\n\t\t\twinningCells.length = 0;\n\t\t};\n\n\t\tif (streak === winStreak) return winningCells;\n\t\t\n\t}\n\t\n\treturn false;\n}\n\nexport const checkWinner = (\n\tarray: CellInterface[],\n\tcurrentPlayer: string,\n\tsize: number,\n\tindex: number,\n\twinStreak: number\n): boolean | number[] => {\n\n\tif (index === -1) return false;\n\n\treturn (\n\t\tcheckMoves(array, currentPlayer, size, index, winStreak, getColumn) ||\n\t\tcheckMoves(array, currentPlayer, size, index, winStreak, getRow) ||\n\t\tcheckMoves(array, currentPlayer, size, index, winStreak, getDiagonalUpRight) ||\n\t\tcheckMoves(array, currentPlayer, size, index, winStreak, getDiagonalDownRight) ||\n\t\tfalse\n\t);\n\n}","import { checkWinner } from './checkWinner';\nimport { CellInterface } from './shared/interfaces';\n\nconst evaluateBoard = (result: boolean | number[], isMaximizer: boolean): number => {\n\n\tif (!result) {\n\t\treturn 0;\n\t} else if (isMaximizer) {\n\t\treturn 10;\n\t} else {\n\t\treturn -10;\n\t}\n}\n\nconst isMovesLeft = (cells: CellInterface[]) => {\n\tfor (const cell of cells) {\n\t\tif (cell.takenByPlayer === '') return true;\n\t}\n\treturn false;\n}\n\nconst swapPlayers = (currentPlayer: string) => {\n\tif (currentPlayer === 'x') return 'o';\n\treturn 'x';\n}\n\ninterface BoardData {\n\tcells: CellInterface[],\n\tcurrentPlayer: string,\n\tsize: number,\n\tlastCellIndex: number,\n\twinStreak: number\n}\n\n// cells will be a copy\nconst minimax = (depth: number, boardData: BoardData, isMaximizer: boolean): number => {\n\tconst {cells: cellsCopy, currentPlayer, size, lastCellIndex, winStreak} = boardData;\n\n\tconst result = checkWinner(cellsCopy, currentPlayer, size, lastCellIndex, winStreak);\n\tconst boardScore = evaluateBoard(result, isMaximizer);\n\t\n\n\tif (boardScore === 10) return boardScore;\n\tif (boardScore === -10) return boardScore;\n\tif (!isMovesLeft(cellsCopy)) return 0;\n\n\t// do not modify cells\n\tlet best = -100;\n\n\tif (isMaximizer) {\n\n\t\tcellsCopy.forEach((cell, index) => {\n\t\t\tif (cell.takenByPlayer === '') {\n\n\t\t\t\tcell.takenByPlayer = swapPlayers(currentPlayer);\n\t\t\t\t//console.log(cellsCopy[index].takenByPlayer);\n\t\t\t\t\n\t\t\t\tconst newBoardData: BoardData = {\n\t\t\t\t\t...boardData,\n\t\t\t\t\tcells: cellsCopy,\n\t\t\t\t\tcurrentPlayer: swapPlayers(currentPlayer),\n\t\t\t\t\tlastCellIndex: index,\n\t\t\t\t}\n\t\t\t\tbest = Math.max(best, minimax(depth + 1, newBoardData, !isMaximizer));\n\n\t\t\t\tcell.takenByPlayer = '';\n\t\t\t}\n\t\t});\n\n\t} else {\n\t\tbest = 100;\n\n\t\tcellsCopy.forEach((cell, index) => {\n\t\t\tif (cell.takenByPlayer === '') {\n\t\t\t\tcell.takenByPlayer = swapPlayers(currentPlayer);\n\n\t\t\t\tconst newBoardData: BoardData = {\n\t\t\t\t\t...boardData,\n\t\t\t\t\tcells: cellsCopy,\n\t\t\t\t\tcurrentPlayer: swapPlayers(currentPlayer),\n\t\t\t\t\tlastCellIndex: index,\n\t\t\t\t}\n\t\t\t\tbest = Math.min(best, minimax(depth + 1, newBoardData, !isMaximizer));\n\n\t\t\t\tcell.takenByPlayer = '';\n\t\t\t}\n\t\t});\n\t}\n\n\treturn best;\n}\n\nexport const findBestMove = (boardData: BoardData):number => {\n\tconst {cells, currentPlayer, size, lastCellIndex, winStreak} = boardData;\n\n\tconst cellsCopy = [...cells];\n\tconst boardDataCopy = {\n\t\t...boardData,\n\t\tcells: cellsCopy,\n\t};\n\tconsole.log('called finder');\n\t\n\tlet bestValue = -100;\n\tlet bestMove = -1;\n\t\n\tboardDataCopy.cells.forEach((cell, index) => {\t\n\t\tif (cell.takenByPlayer === '') {\n\t\t\tcell.takenByPlayer = currentPlayer;\n\t\t\tboardDataCopy.lastCellIndex = index;\n\n\t\t\tconsole.time('minimax')\n\t\t\tlet moveValue = minimax(0, boardDataCopy, true);\n\t\t\tconsole.timeEnd('minimax')\n\t\t\t\n\n\t\t\tcell.takenByPlayer = '';\n\n\t\t\tif (moveValue > bestValue) {\n\t\t\t\tbestValue = moveValue;\n\t\t\t\tbestMove = index;\n\t\t\t}\n\t\t}\n\t});\n\n\treturn bestMove;\n}","import { useState, useEffect } from 'react';\nimport ReactDom from 'react-dom';\nimport './styles/Modal.css';\n\ninterface Props {\n\tisWinner: boolean,\n\tisDraw: boolean,\n\twinner: string\n}\n\nconst Modal = ({ isWinner, isDraw, winner }: Props) => {\n\tconst [isHidden, setIsHidden] = useState(true);\n\n\tuseEffect(() => {\n\t\n\t\tsetTimeout(() => {\n\t\t\tsetIsHidden(!(isWinner || isDraw));\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetIsHidden(true);\n\t\t\t}, 2000);\n\n\t\t}, 1000);\n\n\t}, [isWinner, isDraw]);\n\n\tconst portal: HTMLElement | null = document.getElementById('modalPortal');\n\n\tlet text: string = '';\n\tif (isWinner) text = `Player ${winner} wins!!!`;\n\tif (isDraw) text = \"Draw!!!\"\n\n\treturn (\n\t\tportal ?\n\t\tReactDom.createPortal(\n\t\t\t<>\n\t\t\t\t<div className={`modal${ isHidden ? '' : ' show' }`}>\n\t\t\t\t\t<div className=\"modal__message\">\n\t\t\t\t\t\t{text}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>,\n\t\t\tportal\n\t\t) :\n\t\tnull\n\t)\n}\n\nexport default Modal;\n","import { useState, useEffect } from 'react';\nimport Cell from './Cell';\nimport { CellInterface } from './shared/interfaces';\nimport { checkWinner } from './checkWinner';\nimport { findBestMove } from './minimax';\nimport Modal from './Modal';\nimport './styles/Board.css';\n\ninterface Dimensions {\n\tBOARD_NUM_ROWS: number,\n\tSIZE: string,\n\tDELAY: number,\n\tWIN_STREAK: number\n}\n\nconst getDimensions = (numRows: number): Dimensions => {\n\tconst dimensions = {\n\t\tBOARD_NUM_ROWS: numRows,\n\t\tSIZE: '',\n\t\tDELAY: 0,\n\t\tWIN_STREAK: 0\n\t}\n\n\tif (numRows === 3) dimensions.SIZE = '--small';\n\tif (numRows === 10) dimensions.SIZE = '--large';\n\n\tif (numRows === 3) dimensions.DELAY = 150;\n\tif (numRows === 10) dimensions.DELAY = 10;\n\n\tdimensions.WIN_STREAK = numRows >= 5 ? 5 : numRows;\n\n\treturn dimensions;\n}\n\ninterface Props {\n\tscoreHandler: (updatePlayer: string) => void,\n\trestart: boolean,\n\thandleRestart: (restart: boolean) => void,\n\tsize: number,\n\tisAI:boolean\n}\n\nconst Board = ({ scoreHandler, restart, handleRestart, size, isAI }: Props) => {\n\n\tconst dimensions = getDimensions(size);\n\n\tconst [isWinner, setIsWinner] = useState(false);\n\n\tconst [isDraw, setIsDraw] = useState(false);\n\n\tconst [numMoves, setNumMoves] = useState(0);\n\n\tconst [player, setPlayer] = useState('x');\n\n\tconst [cells, setCells] = useState<CellInterface[]>(Array(dimensions.BOARD_NUM_ROWS * dimensions.BOARD_NUM_ROWS).fill({\n\t\tshowClassName: '',\n\t\ttakenByPlayer: '',\n\t\twinning: false,\n\t}));\n\n\tconst [lastCell, setLastCell] = useState(-1);\n\n\t// restart board\n\tuseEffect(() => {\n\t\t\n\t\tif (!restart) return;\n\n\t\tsetIsWinner(false);\n\t\tsetIsDraw(false);\n\t\tsetNumMoves(0);\n\t\tsetPlayer('x');\n\n\t\tcells.forEach((cell, index) => {\n\t\t\tsetCells(prevCells => {\n\t\t\t\tconst newCells = [...prevCells];\n\t\n\t\t\t\tnewCells[index] = {\n\t\t\t\t\t...cell,\n\t\t\t\t\ttakenByPlayer: '',\n\t\t\t\t\twinning: false\n\t\t\t\t}\n\n\t\t\t\treturn newCells;\n\t\t\t});\n\t\t});\n\t\t\n\t\tsetLastCell(-1);\n\n\t\thandleRestart(false);\n\t\t\n\t}, [restart]);\n\n\t// Nice animation of creating the board\n\tconst showBoard = () => {\n\n\t\tcells.forEach((cell, index) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetCells((prevCells) => {\n\t\t\t\t\tconst newCells = [...prevCells];\n\t\n\t\t\t\t\tnewCells[index] = {\n\t\t\t\t\t\t...cell,\n\t\t\t\t\t\tshowClassName: ' show'\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn newCells;\n\t\t\t\t});\n\t\t\t}, index * dimensions.DELAY);\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tshowBoard();\n\t}, []);\n\n\tconst onCellClick = (index: number) => {\n\t\tsetCells((prevCells => {\n\t\t\t// in case cell has been clicked before\n\t\t\tif (prevCells[index].takenByPlayer !== '' || isWinner) return prevCells;\n\n\t\t\tconst newCells = [...prevCells];\n\n\t\t\tnewCells[index] = {\n\t\t\t\t...prevCells[index],\n\t\t\t\ttakenByPlayer: ` ${player}`\n\t\t\t}\n\n\t\t\tsetNumMoves(prevNum => prevNum + 1);\n\t\t\tsetLastCell(index);\n\n\t\t\treturn newCells;\n\t\t}));\n\n\t};\n\n\tuseEffect(() => {\n\t\t//TEST\n\t\tif (lastCell === -1) return; // do not run after app starts\n\n\t\tconst result: boolean | number[] = checkWinner(cells, player, dimensions.BOARD_NUM_ROWS, lastCell, dimensions.WIN_STREAK);\n\t\t\n\t\tif (result && Array.isArray(result)) {\n\t\t\tsetIsWinner(true);\n\t\t\tscoreHandler(player);\n\t\t\tsetCells((prevCells) => {\n\t\t\t\tconst newCells = [...prevCells];\n\t\t\t\tresult.forEach(cell => {\n\t\t\t\t\tnewCells[cell] = {\n\t\t\t\t\t\t...prevCells[cell],\n\t\t\t\t\t\twinning: true,\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\treturn newCells;\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\t//console.log(checkWinner(cells, player, dimensions.BOARD_NUM_ROWS, lastCell, dimensions.WIN_STREAK));\n\t\t\n\n\t\t// check for draw\n\t\tif (numMoves === dimensions.BOARD_NUM_ROWS * dimensions.BOARD_NUM_ROWS) {\n\t\t\tsetIsDraw(true);\n\t\t\treturn;\n\t\t};\n\n\t\tsetPlayer((prevPlayer) => {\n\t\t\tif (prevPlayer === 'x') return 'o';\n\t\t\treturn 'x';\n\t\t});\n\n\t}, [lastCell]);\n\n\t//AI move\n\tuseEffect(() => {\n\t\tif (player === 'o' && isAI) {\n\n\t\t\tsetCells((prevCells => {\n\t\t\t\t// in case cell has been clicked before\n\t\t\t\t// forAI\n\t\t\t\tconst boardData = {\n\t\t\t\t\tcells: prevCells,\n\t\t\t\t\tcurrentPlayer: 'o',\n\t\t\t\t\tsize: dimensions.BOARD_NUM_ROWS,\n\t\t\t\t\tlastCellIndex: lastCell,\n\t\t\t\t\twinStreak: dimensions.WIN_STREAK\n\t\t\t\t}\n\n\t\t\t\tconst index = findBestMove(boardData);\n\t\n\t\t\t\tconst newCells = [...prevCells];\n\t\n\t\t\t\tnewCells[index] = {\n\t\t\t\t\t...prevCells[index],\n\t\t\t\t\ttakenByPlayer: ' o'\n\t\t\t\t}\n\n\t\t\t\tsetNumMoves(prevNum => prevNum + 1);\n\t\t\t\tsetLastCell(index);\n\t\n\t\t\t\treturn newCells;\n\t\t\t}));\n\t\t}\n\t}, [player]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className={`board board_${dimensions.BOARD_NUM_ROWS}`}>\n\t\t\t\t{cells.map((cell, pos) => (\n\t\t\t\t\t<Cell\n\t\t\t\t\t\tkey={pos}\n\t\t\t\t\t\tindex={pos}\n\t\t\t\t\t\tshowClassName={cell.showClassName}\n\t\t\t\t\t\ttakenByPlayer={cell.takenByPlayer}\n\t\t\t\t\t\twinning={cell.winning}\n\t\t\t\t\t\tcurrentPlayer={` current_${player}`}\n\t\t\t\t\t\tsize={dimensions.SIZE}\n\t\t\t\t\t\tonClickCallback={onCellClick}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<Modal isWinner={isWinner} isDraw={isDraw} winner={player} />\n\t\t</>\n\t)\n};\n\nexport default Board;","import React from 'react';\nimport './styles/ThemeToggler.css';\n\ninterface Props {\n\ttheme: string,\n\tonClickHandler: () => void\n}\n\nconst ThemeToggler = ({ theme, onClickHandler }: Props) => {\n\treturn (\n\t\t<div\n\t\t\tclassName={`theme-toggler theme-toggler--${theme}`}\n\t\t\tonClick={onClickHandler}\n\t\t\ttitle=\"Toggle theme\"\n\t\t/>\n\t)\n}\n\nexport default ThemeToggler;\n","import { ScoreInterface } from './shared/interfaces';\nimport './styles/Score.css'\n\ninterface Props {\n\tscore: ScoreInterface,\n\ttheme: string,\n}\n\nconst Score = ( { score, theme }: Props) => {\n\treturn (\n\t\t<div className={`score score--${theme}`}>\n\t\t\t<span className=\"score__title\">SCORE:</span>\n\t\t\t<div className=\"score__table\">\n\t\t\t\t<div className=\"score__row score__row--players\">\n\t\t\t\t\t<span className=\"score__column--left\">x</span>\n\t\t\t\t\t<span className=\"score__column--right\">o</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"score__row score__row--score\">\n\t\t\t\t\t<span className=\"score__column--left\">{score['x']}</span>\n\t\t\t\t\t<span className=\"score__column--right\">{score['o']}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Score;\n","import './styles/Restart.css';\n\ninterface Props {\n\tonClickHandler: (restart: boolean) => void,\n\ttheme: string,\n}\n\nconst Restart = ({ onClickHandler, theme }: Props) => {\n\treturn (\n\t\t<button className={`restart restart--${theme}`} onClick={() => onClickHandler(true)}>\n\t\t\t<span>Clear board</span>\n\t\t</button>\n\t)\n}\n\nexport default Restart;\n","import { useHistory } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHandPointLeft } from '@fortawesome/free-solid-svg-icons';\nimport './styles/Back.css';\n\ninterface Props {\n\tgoToPath: string | null\n}\n\nconst Back = ({ goToPath }: Props) => {\n\tconst history = useHistory();\n\n\tconst handleOnClick = () => {\n\n\t\tif (goToPath !== null) {\n\t\t\thistory.push(goToPath);\n\t\t} else {\n\t\t\thistory.goBack();\n\t\t}\n\t\t\n\t\t\n\t}\n\n\treturn (\n\t\t<div className=\"back\">\n\t\t\t<button type=\"button\" onClick={handleOnClick}>\n\t\t\t\t<FontAwesomeIcon icon={faHandPointLeft} /><span className=\"back__text\"> go back</span>\n\t\t\t</button>\n\t\t</div>\n\t)\n}\n\nexport default Back;\n","import { useState } from 'react';\nimport Board from './Board';\nimport ThemeToggler from './ThemeToggler';\nimport { ScoreInterface } from './shared/interfaces';\nimport Score from './Score';\nimport Restart from './Restart';\nimport Back from './Back';\nimport { useParams} from 'react-router-dom';\n\nconst Game = () => {\n\n  const [themeGrey, setThemeGrey] = useState(false);\n\n  const theme = themeGrey ? 'grey' : 'color';\n  \n  const [score, setScore] = useState<ScoreInterface>({ 'x': 0, 'o': 0 });\n\n  const [restart, setRestart] = useState(false);\n\n  const handleThemeChange = () => {\n    setThemeGrey(prev => !prev)\n  }\n\n  const handleScoreUpdate = (updatePlayer: string) => {\n    setScore(prevScore => {\n      return {\n        ...prevScore,\n        [updatePlayer]: prevScore[updatePlayer] + 1,\n      }\n    });\n  }\n\n  const handleRestart = (restart: boolean) => {\n    setRestart(restart);\n  }\n\n  // const unsetRestart = () => {\n  //   setRestart(false);\n  // }\n\n  type GameParams = {\n    mode: string,\n    type: string\n  }\n\n  const { mode: size, type } = useParams<GameParams>();\n  \n\n  return (\n      <div className={`app-container app-container--${theme}`}>\n        <Back goToPath={null} />\n        <Restart onClickHandler={handleRestart} theme={theme} />\n        <ThemeToggler\n          theme={theme}\n          onClickHandler={handleThemeChange}\n        />\n        <Score score={score} theme={theme} />\n        <Board\n          scoreHandler={handleScoreUpdate}\n          restart={restart}\n          handleRestart={handleRestart}\n          size={+size}\n          isAI={type === 'pvc'}\n        />\n      </div>\n  );\n};\n\nexport default Game;\n","import './styles/GameMenu.css';\n\ninterface Props {\n\tchildren: React.ReactNode\n}\n\nconst GameMenu = (props: Props) => {\n\treturn (\n\t\t<ul className=\"game-menu\">\n\t\t\t{props.children}\n\t\t</ul>\n\t)\n}\n\nexport default GameMenu;\n","import './styles/Welcome.css';\nimport GameMenu from './GameMenu';\nimport Back from './Back';\nimport {\n\tLink,\n\tRoute,\n\tSwitch,\n\tuseRouteMatch\n} from 'react-router-dom';\n\ntype RouteType = {\n\tpath: string,\n\turl: string\n}\n\nconst Welcome = () => {\n\tconst { path, url } = useRouteMatch<RouteType>();\n\t\n\treturn (\n\t\t<div className=\"welcome\">\n\t\t\t<h1 className=\"welcome__title\">TIC TAC TOE</h1>\n\t\t\t<div className=\"welcome__menu\">\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path={`${path}/mode-3`}>\n\t\t\t\t\t\t<GameMenu>\n\t\t\t\t\t\t\t<Back goToPath={null} />\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<Link to=\"/game/3/pvp\">Player vs Player</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<Link to=\"/game/3/pvc\">Player vs AI</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</GameMenu>\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path={`${path}/mode-10`}>\n\t\t\t\t\t\t<GameMenu>\n\t\t\t\t\t\t\t<Back goToPath={null} />\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<Link to=\"/game/10/pvp\">Player vs Player</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</GameMenu>\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path={path}>\n\t\t\t\t\t\t<GameMenu>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<Link to={`${url}/mode-3`}>3 x 3 mode (includes AI opponent)</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<Link to={`${url}/mode-10`}>10 x 10 mode</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</GameMenu>\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Welcome;\n","import './styles/App.css';\nimport Game from './Game';\nimport Welcome from './Welcome';\nimport {\n\tBrowserRouter as Router,\n\tSwitch,\n\tRoute,\n\tRedirect\n } from 'react-router-dom';\n\nconst App = () => {\n\treturn (\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/game/:mode/:type\">\n\t\t\t\t\t<Game />\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/welcome\">\n\t\t\t\t\t<Welcome />\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t<Redirect to=\"/welcome\" />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t)\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"]}}